<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NET Helper</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style type="text/tailwindcss">
    @layer utilities {
            body {
                font-family: monospace;
                
            }
            body{
              @apply bg-gray-300;
            }
            label{
                @apply mb-2 block font-semibold rounded text-sm px-2 py-1;
            }
             
          .box-1,.box-2 {
            @apply col-span-2 border rounded-md h-full p-3;
          }

          .box-1 {
            @apply bg-slate-700 border-slate-700;
          }

          .box-2 {
            @apply bg-zinc-700 border-zinc-700;
          }

          .box-1 > div, .box-2 > div {
            @apply h-[calc(100%-2.2rem)];
          }

          .box-2 textarea {
            @apply text-amber-900;
          }

          .form-control {
            @apply px-2 py-1 border border-gray-100 rounded-md w-full;
          }

          input[type='text'],
          textarea {
            @apply form-control h-full w-full;
          }

         .inverted {
          @apply bg-gray-700 text-gray-50;
         }

         .inverted-green {
          @apply bg-green-700 text-green-50;
         }

         .inverted-red {
          @apply bg-red-700 text-red-50;
         }

         .pattern-copy{
          @apply text-green-100 hover:text-green-700 bg-green-500 hover:bg-green-200 px-1 pb-[2px] rounded;
         }
         .pattern-add{
          @apply text-gray-100 hover:text-gray-700 bg-gray-500 hover:bg-gray-200 px-1 pb-[2px] rounded;
         }
         .pattern-delete{
          @apply text-yellow-300 hover:text-yellow-100 bg-red-300 hover:bg-red-700 px-1 pb-[2px] rounded;
         }
          
        }
      </style>

</head>

<body>

  <div x-data="appObject()">
    <div class="flex flex-wrap justify-start items-start gap-3 p-3 h-[calc(100vh-5rem)] ">
      
      <div class="h-[calc(100vh-5rem)] flex flex-col justify-start gap-y-3 w-[22rem]">
        
        <div class="flex flex-col justify-start gap-y-1 py-3 w-full h-80">
          <label class="inverted">Input - C# Class</label>
          <div class="flex-1"> <textarea x-model="input"></textarea></div>
          <div><button x-on:click="extract" class="px-3 py-1 my-2 border bg-gray-100 hover:bg-gray-300 rounded" >extract/refresh properties</button></div>
        </div>
        
      
        <div class="flex-1 overflow-scroll">
          <label class="inverted">Included in Results:</label>
          <div class="p-3 bg-gray-200 rounded-md">
            <template x-for="(ep, index) in extracted" :key="index">
              <div class="grid grid-cols-10 gap-3 overflow-scroll">
                <div><input type="checkbox" x-model="ep.incl" x-bind:name="'incl_'+index" /></div>
                <div class="col-span-2"><input type="text" style="width:100%"  x-model="ep.type"/></div>
                <div class="col-span-7"><input type="text"  style="width:100%" x-model="ep.name"/></div>
              </div>            
            </template>
          </div>

        </div>
        

      </div>

      <div class="flex flex-col justify-start gap-y-3 w-[22rem]">
        <div class="w-full">
          <label class="inverted flex justify-between"><span>Display Patterns:</span> <button x-on:click="addDisplayPattern" title="Add a pattern" class="pattern-add">[+]</button> </label>
          <template x-for="(pattern, index) in stringDP" :key="index">
            <div x-data="{isover : ''}">
              <label class="flex justify-between"><div>Pattern:</div>  <button x-on:click="removeDisplayPattern(index)" title="Deletion is ireversible!..." 
                @mouseout="isover=''" @mouseover="isover = 'inverted-red'" class="pattern-delete">[-]</button></label>
              <p>
                <textarea x-model="pattern.Pattern" x-bind:name="'pattern_' + index" :class="isover"></textarea>
              </p>
              <label>Apply to type(s): </label>
              <p>
                <input type="text" x-model="pattern.ForTypes" x-bind:name="'forTypes_' + index" :class="isover" />
              </p>
            </div>
  
          </template>
  
          <div x-data="{isover:''}">
         
            <label class="flex justify-between"><span>Result:</span> <button x-on:click="copyText(razorDisplay.join(''))" title="Copy the result to the Clipboard" 
              @mouseout="isover=''" @mouseover="isover = 'inverted-green'" class="pattern-copy">[c]</button></label>
            <div class="h-40">
              <textarea x-text="razorDisplay.join('')" :class="isover"></textarea>
            </div>
    
          </div>
        </div>
        

        <div>
          <label class="inverted flex justify-between"><span>Edit Patterns:</span> <button x-on:click="addEditPattern" title="Add a pattern" class="pattern-add">[+]</button> </label>
          <template x-for="(pattern, index) in stringEP" :key="index">
            <div x-data="{isover : ''}">
              <label class="flex justify-between"><span>Pattern:</span>  <button x-on:click="removeEditPattern(index)" title="Deletion is ireversible!..." 
                @mouseout="isover=''" @mouseover="isover = 'inverted-red'" class="pattern-delete">[-]</button></label>
              <div>
                <textarea x-model="pattern.Pattern" x-bind:name="'pattern_' + index" :class="isover"></textarea>
              </div>
              <label>Apply to type(s): </label>
              <div>
                <input type="text" x-model="pattern.ForTypes" x-bind:name="'forTypes_' + index"  :class="isover"/>
              </div>
            </div>
  
          </template>
  
          <div x-data="{isover:''}">
         
            <label class="flex justify-between"><span>Result:</span> <button x-on:click="copyText(razorEdit.join(''))" title="Copy the result to the Clipboard" 
              @mouseout="isover=''" @mouseover="isover = 'inverted-green'" class="pattern-copy">[c]</button></label>
            <div class="h-40">
              <textarea x-text="razorEdit.join('')" :class="isover" ></textarea>
            </div>
    
          </div>
        </div>

      </div>
      


      


    </div>

  </div>


  <!-- Alpine Plugins -->
  <script src="https://cdn.jsdelivr.net/npm/@marcreichel/alpine-autosize@latest/dist/alpine-autosize.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.x.x/dist/cdn.min.js" defer></script>
  <!-- Alpine Core -->
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

  <script src="/js/index.js"></script>

</body>

</html>